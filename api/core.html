
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Tony Hallam">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Core - Optuna-ExternM Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#optuna_externmcore" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Optuna-ExternM Documentation" class="md-header__button md-logo" aria-label="Optuna-ExternM Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Optuna-ExternM Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Core
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/trhallam/optuna-externm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trhallam/optuna-externm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../sa/intro.html" class="md-tabs__link">
        Sensitivity Analysis
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../opt/intro.html" class="md-tabs__link">
        Optimisation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../ug/framework.html" class="md-tabs__link">
        User Guide
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="core.html" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../ophm/about.html" class="md-tabs__link">
        Optuna-HM
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Optuna-ExternM Documentation" class="md-nav__button md-logo" aria-label="Optuna-ExternM Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Optuna-ExternM Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/trhallam/optuna-externm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trhallam/optuna-externm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" data-md-state="indeterminate" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contrib.html" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contact.html" class="md-nav__link">
        Contact
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/trhallam/optuna-externm/issues" class="md-nav__link">
        Issue Tracker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Sensitivity Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sensitivity Analysis" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Sensitivity Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sa/intro.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sa/ovat.html" class="md-nav__link">
        OVAT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sa/sobol.html" class="md-nav__link">
        Sobol
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Optimisation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Optimisation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Optimisation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../opt/intro.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../opt/cmaes.html" class="md-nav__link">
        Cma-Es
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../opt/lexde.html" class="md-nav__link">
        Lex-De
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ug/framework.html" class="md-nav__link">
        Optuna-ExternM Framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli.html" class="md-nav__link">
        CLI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="core.html" class="md-nav__link md-nav__link--active">
        Core
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#optuna_externmcore" class="md-nav__link">
    optuna_externm.core
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basemodelhandler" class="md-nav__link">
    BaseModelHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler" class="md-nav__link">
    optuna_externm.core._bmh.BaseModelHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.evaluate" class="md-nav__link">
    evaluate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.finalise" class="md-nav__link">
    finalise()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.initialise" class="md-nav__link">
    initialise()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.log_values" class="md-nav__link">
    log_values()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.objective_function" class="md-nav__link">
    objective_function()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_evaluator" class="md-nav__link">
    register_evaluator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_finaliser" class="md-nav__link">
    register_finaliser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_initialiser" class="md-nav__link">
    register_initialiser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.set_param" class="md-nav__link">
    set_param()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_evaluator" class="md-nav__link">
    unregister_evaluator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_finaliser" class="md-nav__link">
    unregister_finaliser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_initialiser" class="md-nav__link">
    unregister_initialiser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_transform" class="md-nav__link">
    unregister_transform()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Optuna-HM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Optuna-HM" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Optuna-HM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ophm/about.html" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ophm/tutorial.html" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" data-md-state="indeterminate" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ophm/api_handlers.html" class="md-nav__link">
        Handlers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ophm/api_metrics.html" class="md-nav__link">
        Metrics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#optuna_externmcore" class="md-nav__link">
    optuna_externm.core
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basemodelhandler" class="md-nav__link">
    BaseModelHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler" class="md-nav__link">
    optuna_externm.core._bmh.BaseModelHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.evaluate" class="md-nav__link">
    evaluate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.finalise" class="md-nav__link">
    finalise()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.initialise" class="md-nav__link">
    initialise()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.log_values" class="md-nav__link">
    log_values()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.objective_function" class="md-nav__link">
    objective_function()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_evaluator" class="md-nav__link">
    register_evaluator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_finaliser" class="md-nav__link">
    register_finaliser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.register_initialiser" class="md-nav__link">
    register_initialiser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.set_param" class="md-nav__link">
    set_param()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_evaluator" class="md-nav__link">
    unregister_evaluator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_finaliser" class="md-nav__link">
    unregister_finaliser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_initialiser" class="md-nav__link">
    unregister_initialiser()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optuna_externm.core._bmh.BaseModelHandler.unregister_transform" class="md-nav__link">
    unregister_transform()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              



                
<a href="https://github.com/trhallam/optuna-externm/edit/main/docs/api/core.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>Core</h1>

<h2 id="optuna_externmcore"><code>optuna_externm.core</code></h2>
<h2 id="basemodelhandler"><code>BaseModelHandler</code></h2>


  <div class="doc doc-object doc-class">

<a id="optuna_externm.core._bmh.BaseModelHandler"></a>
    <div class="doc doc-contents first">


<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>popt</code></td>
        <td><code>pd.DataFrame</code></td>
        <td><p>Optimisation Parameters</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">class</span> <span class="nc">BaseModelHandler</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Attributes:</span>
<span class="sd">        popt (pd.DataFrame): Optimisation Parameters</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__maxfitness__</span> <span class="o">=</span> <span class="mi">2000000000</span>
    <span class="n">__req_parameter_attr</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
        <span class="p">(</span>
            <span class="s2">&quot;NAME&quot;</span><span class="p">,</span>  <span class="c1"># index column should be PROP name</span>
            <span class="s2">&quot;LOW&quot;</span><span class="p">,</span>  <span class="c1"># minimum search value for prop</span>
            <span class="s2">&quot;HIGH&quot;</span><span class="p">,</span>  <span class="c1"># maximum search value for prop</span>
            <span class="s2">&quot;DEF&quot;</span><span class="p">,</span>  <span class="c1"># default search value or initial guess</span>
            <span class="s2">&quot;DIST&quot;</span><span class="p">,</span>  <span class="c1"># distribution function - if missing defaults to UNIFORM</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">_equality_tokens</span> <span class="o">=</span> <span class="n">bidict</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;__lt__&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;__gt__&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;__eq__&quot;</span><span class="p">:</span> <span class="s2">&quot;==&quot;</span><span class="p">,</span>
            <span class="s2">&quot;__le__&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;=&quot;</span><span class="p">,</span>
            <span class="s2">&quot;__ge__&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span>
            <span class="s2">&quot;__ne__&quot;</span><span class="p">:</span> <span class="s2">&quot;!=&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="n">_equality_tokenizer</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(==|!=|&gt;=|&lt;=|&lt;|&gt;)&quot;</span><span class="p">)</span>
    <span class="n">_optuna_dist_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;UNIFORM&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_uniform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;FLOAT&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_float&quot;</span><span class="p">,</span>
        <span class="s2">&quot;INT&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_int&quot;</span><span class="p">,</span>
        <span class="s2">&quot;LOGUNIFORM&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_loguniform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DISCRETE_UNIFORM&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_discrete_uniform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CATEGORICAL&quot;</span><span class="p">:</span> <span class="s2">&quot;suggest_categorical&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            logger (str): The name to use for logging this handler.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">results_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">results_dir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transforms</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inverse_transforms</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_finess</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_cnstr</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nopt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_constraints</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_transform</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Genertic register function adds function to stage.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage (str): accepted stages are [&#39;initialisers&#39;, &#39;finalisers&#39;, &#39;evaluators&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">pfunc</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="n">pfunc</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">alias</span>
        <span class="n">pfunc</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__doc__</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="s2">&quot;__dict__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
            <span class="c1"># Some functions don&#39;t have a dictionary, in these cases</span>
            <span class="c1"># simply don&#39;t copy it. Moreover, if the function is actually</span>
            <span class="c1"># a class, we do not want to copy the dictionary.</span>
            <span class="n">pfunc</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">function</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">pfunc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">stage</span><span class="p">][</span><span class="n">alias</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">register_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register an evaluation *function* to the handler to be used for</span>
<span class="sd">        optimisation under the name *alias*.</span>

<span class="sd">        Default arguments will be passed automatically when</span>
<span class="sd">        calling the registered function. Fixed arguments can then be overriden</span>
<span class="sd">        at function call time.</span>

<span class="sd">        All of the registered evaluators will be used in the objective updating</span>
<span class="sd">        function in the order that they are registered. This is important if</span>
<span class="sd">        evaluators depend on the output of other evaluators.</span>

<span class="sd">        Original code and method inspiration from DEAP.Toolbox</span>

<span class="sd">        Args:</span>
<span class="sd">            alias (str): The name the function will have in the handler. If the</span>
<span class="sd">                fname already exist it will overwrite the the function already</span>
<span class="sd">                registered.</span>
<span class="sd">            function (func): The function referred to by alias,</span>
<span class="sd">                the first argument is the reference data or a function to return the reference data,</span>
<span class="sd">                the second argument is the data to compare.</span>
<span class="sd">            args/kwargs (optional) : Special arguments and keyword arguments to</span>
<span class="sd">                pass to function.</span>

<span class="sd">        Example:</span>
<span class="sd">            The following code block is an example of how this function is used.</span>
<span class="sd">            .. highlight:: python</span>
<span class="sd">            .. code-block:: console</span>

<span class="sd">            &gt;&gt;&gt; def func(a, b, c=3):</span>
<span class="sd">            ...     print a, b, c</span>
<span class="sd">            ...</span>
<span class="sd">            &gt;&gt;&gt; model = BaseModelHandler()</span>
<span class="sd">            &gt;&gt;&gt; model.register_evaluator(&quot;myFunc&quot;, func, 2, c=4)</span>
<span class="sd">            &gt;&gt;&gt; model.myFunc(3)</span>
<span class="sd">            2 3 4</span>
<span class="sd">            &gt;&gt;&gt; model.evaluators</span>
<span class="sd">            {&quot;muFunc&quot;: func}</span>

<span class="sd">        The registered function will be given the attributes :attr:`__name__`</span>
<span class="sd">        set to the fname and :attr:`__doc__` set to the original function&#39;s</span>
<span class="sd">        documentation. The :attr:`__dict__` attribute will also be updated</span>
<span class="sd">        with the original function&#39;s instance dictionary, if any.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;evaluators&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as evaluator&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register an initialisation *function* to the handler to be used prior</span>
<span class="sd">        to running the evaluators. These functions are run once.</span>

<span class="sd">        For usage see BaseModelHander.register_evalator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;initialisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as initialiser&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register a finalisation *function* to the handler to be used after</span>
<span class="sd">        to running the evaluators. These functions are run once.</span>

<span class="sd">        For usage see BaseModelHander.register_evalator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;finalisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as finaliser&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_unregister</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unregister *alias* from stage.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage (str): The name of the stage to look for alias in.</span>
<span class="sd">                Valid stages are [&#39;initisers&#39;, &#39;finalisers&#39;, &#39;evaluators&#39;]</span>
<span class="sd">            alias (str): The name of the operator to remove from the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">stage</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="nb">delattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unregister_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unregister an evalautor function.</span>

<span class="sd">        Args:</span>
<span class="sd">            alias (str): The name of the operator to remove from the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;evaluators&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as evaluator&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unregister_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unregister an initialiser function.</span>

<span class="sd">        Args:</span>
<span class="sd">            alias (str): The name of the initialiser function to remove from the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;initialisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as initisaliser&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unregister_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unregister a finaliser function.</span>

<span class="sd">        Args:</span>
<span class="sd">            alias (str): The name of the finaliser function to remove from the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;finalisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as finaliser&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unregister_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unregister a transform function.</span>

<span class="sd">        Args:</span>
<span class="sd">            alias (str): The name of the function to remove from the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;transforms&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;inverse_transforms&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as transform&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the parameters of the problem to be solved. Minimum properties for each tuples are</span>

<span class="sd">        PROP, PMIN, PMAX, DIST</span>

<span class="sd">        Args:</span>
<span class="sd">            parameters: Optimisation parameters definitions as namedtuples.</span>

<span class="sd">        Notes:</span>
<span class="sd">            The load csv function in the optuna.externm.utils module can be used to load and create</span>
<span class="sd">            the input to this method from a CSV file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">missing_params</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__req_parameter_attr</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">_fields</span><span class="p">)):</span>
                <span class="n">missing_params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="nb">set</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__req_parameter_attr</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Malformed parameter: </span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">missing_params</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The parameter definition was malformed, missing: </span><span class="si">{</span><span class="n">missing_params</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">SystemExit</span>

        <span class="c1"># if &quot;DIST&quot; not in param.columns:</span>
        <span class="c1">#     param[&quot;DIST&quot;] = &quot;UNIFORM&quot;</span>
        <span class="c1">#     logger.info(</span>
        <span class="c1">#         &quot;No parameter distribution specified, all parameters &quot;</span>
        <span class="c1">#         &quot;being transformed with UNIFORM distribution&quot;</span>
        <span class="c1">#     )</span>

        <span class="c1"># if &quot;TYPE&quot; not in param.columns:</span>
        <span class="c1">#     param[&quot;TYPE&quot;] = &quot;NUMERIC&quot;</span>
        <span class="c1">#     logger.info(</span>
        <span class="c1">#         &quot;No parameter distribution types specified, all parameters &quot;</span>
        <span class="c1">#         &quot;assumed to have type NUMERIC.&quot;</span>
        <span class="c1">#     )</span>

        <span class="c1"># # dealing with parameter constraints</span>
        <span class="c1"># if &quot;CONSTRAINT&quot; not in param.columns or self.no_constraints:</span>
        <span class="c1">#     param[&quot;CONSTRAINT&quot;] = numpy.nan</span>
        <span class="c1"># else:</span>
        <span class="c1">#     for par, row in param.dropna(subset=[&quot;CONSTRAINT&quot;]).iterrows():</span>
        <span class="c1">#         tok = self._equality_tokenizer.split(row[&quot;CONSTRAINT&quot;])</span>
        <span class="c1">#         tok = [t.strip() for t in tok if t != &quot;&quot;]</span>
        <span class="c1">#         for i, t in enumerate(tok):</span>
        <span class="c1">#             try:</span>
        <span class="c1">#                 tok[i] = self._equality_tokens.inverse[t][0]</span>
        <span class="c1">#             except KeyError:</span>
        <span class="c1">#                 pass</span>
        <span class="c1">#         self.param_cnstr[par] = [t for t in zip(tok[0::2], tok[1::2])]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">NAME</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nopt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model has </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nopt</span><span class="si">}</span><span class="s2"> optimisation parameters&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise the model by calling functions registered for initialisation.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">init</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span><span class="p">[</span><span class="n">init</span><span class="p">]()</span>

    <span class="k">def</span> <span class="nf">finalise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Finalise the model by calling functions registered for finalisation.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">fini</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span><span class="p">[</span><span class="n">fini</span><span class="p">]()</span>

    <span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the evaluation functions.</span>
<span class="sd">        Usually this is performed by the optimiser. Use this function to run tests</span>
<span class="sd">        on your model or to perform debugging.</span>

<span class="sd">        Args:</span>
<span class="sd">            results (dict): The dictionary to pass between evaluators.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (dict): Updated results dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">results</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">evl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span><span class="p">:</span>
            <span class="n">results</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span><span class="p">[</span><span class="n">evl</span><span class="p">](</span><span class="n">results</span><span class="o">=</span><span class="n">results</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span> <span class="nf">log_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select values to log for each trial. These must be keys available</span>
<span class="sd">        within your results parser between evaluators by the end of each</span>
<span class="sd">        individuals evaluation. They should also be simple types.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            log_list (list): List of results keys (str) to report on.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># &#39;fit&#39; will always be reported. Defaults to None: Only fit will</span>
        <span class="c1"># be reported.</span>
        <span class="c1"># In multi-objective cases the optimiser will reduce fit of tuple to</span>
        <span class="c1"># fit1, fit2, ..., fitn</span>

        <span class="k">if</span> <span class="n">log_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="s2">&quot;fit&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">log_list</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="s2">&quot;fit&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">log_list</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">objective_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the final objective function for Optuna Studies&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">trial</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">param</span><span class="o">.</span><span class="n">NAME</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">trial</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_optuna_dist_mapping</span><span class="p">[</span><span class="n">param</span><span class="o">.</span><span class="n">DIST</span><span class="p">])(</span>
                    <span class="n">param</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">HIGH</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span>
            <span class="p">}</span>

            <span class="n">res</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="n">p</span><span class="p">,</span> <span class="s2">&quot;trial_number&quot;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">number</span><span class="p">}</span>
            <span class="n">res</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">trial</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">user_attrs</span><span class="p">)</span>
            <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">res</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">trial</span><span class="o">.</span><span class="n">set_user_attr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">results</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">objective</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>logger</code></td>
        <td><code>str</code></td>
        <td><p>The name to use for logging this handler.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        logger (str): The name to use for logging this handler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">results_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">results_dir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transforms</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">inverse_transforms</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_finess</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param_cnstr</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nopt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_constraints</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_transform</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.evaluate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Run the evaluation functions.
Usually this is performed by the optimiser. Use this function to run tests
on your model or to perform debugging.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>results</code></td>
        <td><code>dict</code></td>
        <td><p>The dictionary to pass between evaluators.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(dict)</code></td>
      <td><p>Updated results dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the evaluation functions.</span>
<span class="sd">    Usually this is performed by the optimiser. Use this function to run tests</span>
<span class="sd">    on your model or to perform debugging.</span>

<span class="sd">    Args:</span>
<span class="sd">        results (dict): The dictionary to pass between evaluators.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): Updated results dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">results</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">evl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span><span class="p">:</span>
        <span class="n">results</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluators</span><span class="p">[</span><span class="n">evl</span><span class="p">](</span><span class="n">results</span><span class="o">=</span><span class="n">results</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.finalise" class="doc doc-heading">
<code class="highlight language-python"><span class="n">finalise</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Finalise the model by calling functions registered for finalisation.</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">finalise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Finalise the model by calling functions registered for finalisation.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">fini</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finalisers</span><span class="p">[</span><span class="n">fini</span><span class="p">]()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.initialise" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Initialise the model by calling functions registered for initialisation.</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialise the model by calling functions registered for initialisation.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">init</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initialisers</span><span class="p">[</span><span class="n">init</span><span class="p">]()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.log_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_list</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Select values to log for each trial. These must be keys available
within your results parser between evaluators by the end of each
individuals evaluation. They should also be simple types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>log_list</code></td>
        <td><code>list</code></td>
        <td><p>List of results keys (str) to report on.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">log_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Select values to log for each trial. These must be keys available</span>
<span class="sd">    within your results parser between evaluators by the end of each</span>
<span class="sd">    individuals evaluation. They should also be simple types.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        log_list (list): List of results keys (str) to report on.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># &#39;fit&#39; will always be reported. Defaults to None: Only fit will</span>
    <span class="c1"># be reported.</span>
    <span class="c1"># In multi-objective cases the optimiser will reduce fit of tuple to</span>
    <span class="c1"># fit1, fit2, ..., fitn</span>

    <span class="k">if</span> <span class="n">log_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="s2">&quot;fit&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">log_list</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="s2">&quot;fit&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">log_list</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluator_stats</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.objective_function" class="doc doc-heading">
<code class="highlight language-python"><span class="n">objective_function</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns the final objective function for Optuna Studies</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">objective_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the final objective function for Optuna Studies&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">trial</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">param</span><span class="o">.</span><span class="n">NAME</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">trial</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_optuna_dist_mapping</span><span class="p">[</span><span class="n">param</span><span class="o">.</span><span class="n">DIST</span><span class="p">])(</span>
                <span class="n">param</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">HIGH</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span>
        <span class="p">}</span>

        <span class="n">res</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="n">p</span><span class="p">,</span> <span class="s2">&quot;trial_number&quot;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">number</span><span class="p">}</span>
        <span class="n">res</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">trial</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">user_attrs</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">res</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_keys</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">trial</span><span class="o">.</span><span class="n">set_user_attr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">results</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;fit&quot;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">objective</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.register_evaluator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Register an evaluation <em>function</em> to the handler to be used for
optimisation under the name <em>alias</em>.</p>
<p>Default arguments will be passed automatically when
calling the registered function. Fixed arguments can then be overriden
at function call time.</p>
<p>All of the registered evaluators will be used in the objective updating
function in the order that they are registered. This is important if
evaluators depend on the output of other evaluators.</p>
<p>Original code and method inspiration from DEAP.Toolbox</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias</code></td>
        <td><code>str</code></td>
        <td><p>The name the function will have in the handler. If the
fname already exist it will overwrite the the function already
registered.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>function</code></td>
        <td><code>func</code></td>
        <td><p>The function referred to by alias,
the first argument is the reference data or a function to return the reference data,
the second argument is the data to compare.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args/kwargs</code></td>
        <td><code>optional) </code></td>
        <td><p>Special arguments and keyword arguments to
pass to function.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>The following code block is an example of how this function is used.
.. highlight:: python
.. code-block:: console</p>
    <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">BaseModelHandler</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">register_evaluator</span><span class="p">(</span><span class="s2">&quot;myFunc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">myFunc</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">evaluators</span>
<span class="p">{</span><span class="s2">&quot;muFunc&quot;</span><span class="p">:</span> <span class="n">func</span><span class="p">}</span>
</code></pre></div>
      <p>The registered function will be given the attributes :attr:<code>__name__</code>
set to the fname and :attr:<code>__doc__</code> set to the original function's
documentation. The :attr:<code>__dict__</code> attribute will also be updated
with the original function's instance dictionary, if any.</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">register_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Register an evaluation *function* to the handler to be used for</span>
<span class="sd">    optimisation under the name *alias*.</span>

<span class="sd">    Default arguments will be passed automatically when</span>
<span class="sd">    calling the registered function. Fixed arguments can then be overriden</span>
<span class="sd">    at function call time.</span>

<span class="sd">    All of the registered evaluators will be used in the objective updating</span>
<span class="sd">    function in the order that they are registered. This is important if</span>
<span class="sd">    evaluators depend on the output of other evaluators.</span>

<span class="sd">    Original code and method inspiration from DEAP.Toolbox</span>

<span class="sd">    Args:</span>
<span class="sd">        alias (str): The name the function will have in the handler. If the</span>
<span class="sd">            fname already exist it will overwrite the the function already</span>
<span class="sd">            registered.</span>
<span class="sd">        function (func): The function referred to by alias,</span>
<span class="sd">            the first argument is the reference data or a function to return the reference data,</span>
<span class="sd">            the second argument is the data to compare.</span>
<span class="sd">        args/kwargs (optional) : Special arguments and keyword arguments to</span>
<span class="sd">            pass to function.</span>

<span class="sd">    Example:</span>
<span class="sd">        The following code block is an example of how this function is used.</span>
<span class="sd">        .. highlight:: python</span>
<span class="sd">        .. code-block:: console</span>

<span class="sd">        &gt;&gt;&gt; def func(a, b, c=3):</span>
<span class="sd">        ...     print a, b, c</span>
<span class="sd">        ...</span>
<span class="sd">        &gt;&gt;&gt; model = BaseModelHandler()</span>
<span class="sd">        &gt;&gt;&gt; model.register_evaluator(&quot;myFunc&quot;, func, 2, c=4)</span>
<span class="sd">        &gt;&gt;&gt; model.myFunc(3)</span>
<span class="sd">        2 3 4</span>
<span class="sd">        &gt;&gt;&gt; model.evaluators</span>
<span class="sd">        {&quot;muFunc&quot;: func}</span>

<span class="sd">    The registered function will be given the attributes :attr:`__name__`</span>
<span class="sd">    set to the fname and :attr:`__doc__` set to the original function&#39;s</span>
<span class="sd">    documentation. The :attr:`__dict__` attribute will also be updated</span>
<span class="sd">    with the original function&#39;s instance dictionary, if any.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;evaluators&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as evaluator&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.register_finaliser" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Register a finalisation <em>function</em> to the handler to be used after
to running the evaluators. These functions are run once.</p>
<p>For usage see BaseModelHander.register_evalator</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">register_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Register a finalisation *function* to the handler to be used after</span>
<span class="sd">    to running the evaluators. These functions are run once.</span>

<span class="sd">    For usage see BaseModelHander.register_evalator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;finalisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as finaliser&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.register_initialiser" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Register an initialisation <em>function</em> to the handler to be used prior
to running the evaluators. These functions are run once.</p>
<p>For usage see BaseModelHander.register_evalator</p>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">register_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Register an initialisation *function* to the handler to be used prior</span>
<span class="sd">    to running the evaluators. These functions are run once.</span>

<span class="sd">    For usage see BaseModelHander.register_evalator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="s2">&quot;initialisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> registered as initialiser&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.set_param" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Set the parameters of the problem to be solved. Minimum properties for each tuples are</p>
<p>PROP, PMIN, PMAX, DIST</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>parameters</code></td>
        <td></td>
        <td><p>Optimisation parameters definitions as namedtuples.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>      <div class="admonition notes">
<p class="admonition-title">Notes</p>
<p>The load csv function in the optuna.externm.utils module can be used to load and create
the input to this method from a CSV file.</p>
</div>

        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">set_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set the parameters of the problem to be solved. Minimum properties for each tuples are</span>

<span class="sd">    PROP, PMIN, PMAX, DIST</span>

<span class="sd">    Args:</span>
<span class="sd">        parameters: Optimisation parameters definitions as namedtuples.</span>

<span class="sd">    Notes:</span>
<span class="sd">        The load csv function in the optuna.externm.utils module can be used to load and create</span>
<span class="sd">        the input to this method from a CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">missing_params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__req_parameter_attr</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">_fields</span><span class="p">)):</span>
            <span class="n">missing_params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__req_parameter_attr</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Malformed parameter: </span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">missing_params</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The parameter definition was malformed, missing: </span><span class="si">{</span><span class="n">missing_params</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">SystemExit</span>

    <span class="c1"># if &quot;DIST&quot; not in param.columns:</span>
    <span class="c1">#     param[&quot;DIST&quot;] = &quot;UNIFORM&quot;</span>
    <span class="c1">#     logger.info(</span>
    <span class="c1">#         &quot;No parameter distribution specified, all parameters &quot;</span>
    <span class="c1">#         &quot;being transformed with UNIFORM distribution&quot;</span>
    <span class="c1">#     )</span>

    <span class="c1"># if &quot;TYPE&quot; not in param.columns:</span>
    <span class="c1">#     param[&quot;TYPE&quot;] = &quot;NUMERIC&quot;</span>
    <span class="c1">#     logger.info(</span>
    <span class="c1">#         &quot;No parameter distribution types specified, all parameters &quot;</span>
    <span class="c1">#         &quot;assumed to have type NUMERIC.&quot;</span>
    <span class="c1">#     )</span>

    <span class="c1"># # dealing with parameter constraints</span>
    <span class="c1"># if &quot;CONSTRAINT&quot; not in param.columns or self.no_constraints:</span>
    <span class="c1">#     param[&quot;CONSTRAINT&quot;] = numpy.nan</span>
    <span class="c1"># else:</span>
    <span class="c1">#     for par, row in param.dropna(subset=[&quot;CONSTRAINT&quot;]).iterrows():</span>
    <span class="c1">#         tok = self._equality_tokenizer.split(row[&quot;CONSTRAINT&quot;])</span>
    <span class="c1">#         tok = [t.strip() for t in tok if t != &quot;&quot;]</span>
    <span class="c1">#         for i, t in enumerate(tok):</span>
    <span class="c1">#             try:</span>
    <span class="c1">#                 tok[i] = self._equality_tokens.inverse[t][0]</span>
    <span class="c1">#             except KeyError:</span>
    <span class="c1">#                 pass</span>
    <span class="c1">#         self.param_cnstr[par] = [t for t in zip(tok[0::2], tok[1::2])]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">NAME</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nopt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model has </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nopt</span><span class="si">}</span><span class="s2"> optimisation parameters&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.unregister_evaluator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unregister_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Unregister an evalautor function.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias</code></td>
        <td><code>str</code></td>
        <td><p>The name of the operator to remove from the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">unregister_evaluator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Unregister an evalautor function.</span>

<span class="sd">    Args:</span>
<span class="sd">        alias (str): The name of the operator to remove from the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;evaluators&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as evaluator&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.unregister_finaliser" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unregister_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Unregister a finaliser function.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias</code></td>
        <td><code>str</code></td>
        <td><p>The name of the finaliser function to remove from the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">unregister_finaliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Unregister a finaliser function.</span>

<span class="sd">    Args:</span>
<span class="sd">        alias (str): The name of the finaliser function to remove from the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;finalisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as finaliser&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.unregister_initialiser" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unregister_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Unregister an initialiser function.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias</code></td>
        <td><code>str</code></td>
        <td><p>The name of the initialiser function to remove from the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">unregister_initialiser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Unregister an initialiser function.</span>

<span class="sd">    Args:</span>
<span class="sd">        alias (str): The name of the initialiser function to remove from the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;initialisers&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as initisaliser&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="optuna_externm.core._bmh.BaseModelHandler.unregister_transform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unregister_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Unregister a transform function.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias</code></td>
        <td><code>str</code></td>
        <td><p>The name of the function to remove from the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>optuna_externm/core/_bmh.py</code></summary>
          <div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">unregister_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Unregister a transform function.</span>

<span class="sd">    Args:</span>
<span class="sd">        alias (str): The name of the function to remove from the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;transforms&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_unregister</span><span class="p">(</span><span class="s2">&quot;inverse_transforms&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> unregistered as transform&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>

              

            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../cli/cli.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: CLI" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              CLI
            </div>
          </div>
        </a>
      
      
        
        <a href="../ophm/about.html" class="md-footer__link md-footer__link--next" aria-label="Next: About" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              About
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Tony Hallam
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigations.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand"], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c44cc438.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>